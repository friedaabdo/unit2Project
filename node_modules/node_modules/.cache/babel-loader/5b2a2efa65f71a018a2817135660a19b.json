{"ast":null,"code":"var _jsxFileName = \"/home/frieda/Desktop/seir/unit2/React/blackjackapp/src/Components/Table.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom'; // import Buttons from './Buttons'\n\nimport Card from './Card';\nimport User from './User';\nimport Dealer from './Dealer';\n\nconst Table = () => {\n  const [deck, setDeck] = useState([]);\n\n  const callingApi = async () => {\n    const res = await fetch(\"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1\");\n    const info = await res.json();\n    setDeck(info);\n  };\n\n  useEffect(() => {\n    callingApi();\n  }, []);\n  const deckID = deck.deck_id;\n\n  const fetchShuffle = async () => {\n    const res = await fetch(`https://deckofcardsapi.com/api/deck/${deckID}/shuffle/`);\n    const jsonShuffle = await res.json();\n    console.log('shuffle result', jsonShuffle);\n  };\n\n  const [cards, setCards] = useState([]);\n  const player = user;\n\n  const draw1Card = async player => {\n    const fetchDeck = await fetch(`https://deckofcardsapi.com/api/deck/${deckID}/draw/?count=1`);\n    const jsonDeck = await fetchDeck.json();\n    const cardCode = jsonDeck.cards[0].code;\n    const fetchPile = await fetch(`https://deckofcardsapi.com/api/deck/${deckID}/pile/${player}/add/?cards=${cardCode}`);\n    const pileinfo = await fetchPile.json();\n    const fetchCard = await fetch(`https://deckofcardsapi.com/api/deck/${deckID}/pile/${player}/list/`);\n    const handInfo = await fetchCard.json();\n    const cardInfo = handInfo.piles.player.cards;\n    console.log(\"handinfo\", handInfo);\n    console.log(\"cardinfo\", cardInfo);\n    setCards(cardInfo);\n  };\n\n  const cardsArr = cards.map(card => {\n    return /*#__PURE__*/React.createElement(Card //maybe we copy paste this back to table and change card to user and dealer\n    , {\n      key: card.code,\n      image: card.image,\n      value: card.value,\n      suit: card.suit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    });\n  });\n\n  const handleDeal = async () => {\n    await fetchShuffle();\n    await draw1Card('user');\n    await draw1Card('dealer');\n    await draw1Card('user');\n    await draw1Card('dealer');\n  };\n\n  const handleHit = () => {\n    draw1Card('user');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Dealer, {\n    cardsArr: cardsArr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(User, {\n    handleHit: handleHit,\n    deckID: deckID,\n    handleDeal: handleDeal,\n    cardsArr: cardsArr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Table;","map":{"version":3,"sources":["/home/frieda/Desktop/seir/unit2/React/blackjackapp/src/Components/Table.js"],"names":["React","useState","useEffect","Link","Card","User","Dealer","Table","deck","setDeck","callingApi","res","fetch","info","json","deckID","deck_id","fetchShuffle","jsonShuffle","console","log","cards","setCards","player","user","draw1Card","fetchDeck","jsonDeck","cardCode","code","fetchPile","pileinfo","fetchCard","handInfo","cardInfo","piles","cardsArr","map","card","image","value","suit","handleDeal","handleHit"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport {Link} from 'react-router-dom'\n// import Buttons from './Buttons'\nimport Card from './Card'\nimport User from './User'\nimport Dealer from './Dealer'\n\nconst Table = () => {\n\n    const [deck, setDeck] = useState([]);\n\n    const callingApi = async () => {\n      const res = await fetch(\n        \"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1\"\n      );\n      const info = await res.json();\n      setDeck(info);\n    };\n  \n    useEffect(() => {\n      callingApi();\n    }, []);\n  \n    const deckID = deck.deck_id;\n\n\n    const fetchShuffle = async () => {\n        const res = await fetch(\n        `https://deckofcardsapi.com/api/deck/${deckID}/shuffle/`\n      );\n    const jsonShuffle = await res.json();\n    console.log('shuffle result', jsonShuffle)\n    }\n    \n    const [cards, setCards] = useState([])\n    \n    const player = user\n\n    const draw1Card = async (player) => {\n        const fetchDeck = await fetch(\n          `https://deckofcardsapi.com/api/deck/${deckID}/draw/?count=1`\n        );\n        const jsonDeck = await fetchDeck.json();\n      \n        const cardCode = jsonDeck.cards[0].code;\n      \n        const fetchPile = await fetch(\n          `https://deckofcardsapi.com/api/deck/${deckID}/pile/${player}/add/?cards=${cardCode}`\n        );\n        const pileinfo = await fetchPile.json();\n      \n        const fetchCard = await fetch(\n          `https://deckofcardsapi.com/api/deck/${deckID}/pile/${player}/list/`\n        );\n        const handInfo = await fetchCard.json();\n        const cardInfo = handInfo.piles.player.cards;\n        console.log(\"handinfo\", handInfo);\n        console.log(\"cardinfo\", cardInfo);\n        setCards(cardInfo)\n     }   \n    \n    \n        const cardsArr = cards.map(card => {\n          return(\n            <Card                       //maybe we copy paste this back to table and change card to user and dealer\n            key={card.code}\n            image={card.image}\n            value={card.value}\n            suit={card.suit}\n            />)\n          })\n        \n\n\n    const handleDeal = async () => {\n        await fetchShuffle()\n      \n        await draw1Card('user')\n        await draw1Card('dealer')\n        await draw1Card('user')\n        await draw1Card('dealer')\n    \n        }\n\n   \n    const handleHit = () => {\n        draw1Card('user')\n    }     \n\n    return(\n        <div>\n        <Link to='/'><button>Home</button></Link>\n        <Dealer cardsArr={cardsArr}/>\n        <User handleHit={handleHit} deckID={deckID} handleDeal={handleDeal} cardsArr={cardsArr}/>\n        \n        </div>\n    )\n}\n\nexport default Table\n\n"]},"metadata":{},"sourceType":"module"}